#
# Connect to the  server at 'localhost', 10000 send any data,
# the server will respond with the required word codes
# You will find a passage of text in the file backdoor.txt write a script
# which will use that text to build a message using the received word codes.
# Each word code is sent on a new line and contains
# paragraph_number, line_number, word_number
# Send the expected words back to the server to retrieve the flag.
# The server expects all the words in a single transmission.
# The words should have punctuation stripped from them.
# And the words should be separated by newline characters (\n)
#
import socket

client = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
client.connect(('localhost', 10000))
client.send('hey this should work right?')
data = client.recv(2048)
#print(data)
key_file = open('backdoor.txt', 'r').read()
#print(key_file)
print(type(key_file))
paragraphs = key_file.split('\n\n')
#print(paragraphs)
print('')
lines = []
words = []
for thing in paragraphs:
    #print(thing)
    None

for thing in paragraphs:
    thing = thing.splitlines()
    for line in thing:
        lines.append(thing)
        
#print(lines)

print('')
for word in lines:
    words.append(word)
#print(words)
#word is a paragraph, holds lines, which hold characters
print(words[1])
